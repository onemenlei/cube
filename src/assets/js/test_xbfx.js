var SCHOOL = {
    dataJson: {"data":[{"c_exam_score_type":null,"c_exam_date":1525968000000,"c_seme_id":2,"c_exam_name":"单元测试_20180511","papers":[{"createTime":1526019178336,"isItemUpload":0,"paperId":1001526019178335,"paperName":"15_09_单元测试_语文_20180511","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":1,"termId":2,"xkName":"语文","createUser":"sichuan","paperScore":150.0,"_id":"1001526019178335","term":"下学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null},{"createTime":1526019178337,"isItemUpload":0,"paperId":1001526019178336,"paperName":"15_09_单元测试_数学_20180511","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":2,"termId":2,"xkName":"数学","createUser":"sichuan","paperScore":150.0,"_id":"1001526019178336","term":"下学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null},{"createTime":1526019178338,"isItemUpload":0,"paperId":1001526019178337,"paperName":"15_09_单元测试_英语_20180511","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":3,"termId":2,"xkName":"英语","createUser":"sichuan","paperScore":150.0,"_id":"1001526019178337","term":"下学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null},{"createTime":1526019178339,"isItemUpload":0,"paperId":1001526019178338,"paperName":"15_09_单元测试_物理_20180511","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":4,"termId":2,"xkName":"物理","createUser":"sichuan","paperScore":120.0,"_id":"1001526019178338","term":"下学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null},{"createTime":1526019178340,"isItemUpload":0,"paperId":1001526019178339,"paperName":"15_09_单元测试_化学_20180511","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":5,"termId":2,"xkName":"化学","createUser":"sichuan","paperScore":120.0,"_id":"1001526019178339","term":"下学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null},{"createTime":1526019239216,"isItemUpload":0,"paperId":1001526019239216,"paperName":"历史测试考试","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":6,"termId":2,"xkName":"历史","createUser":"sichuan","paperScore":100.0,"_id":"1001526019239216","term":"下学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null}],"anlyStatus":0,"canClassAnalysis":true,"paperIds":[1001526019178335,1001526019178336,1001526019178337,1001526019178338,1001526019178339,1001526019239216],"gradeName":"九年级","c_exam_cate_id":1,"c_grade_id":9,"examId":"2001526019178335","canGradeAnalysis":true,"c_exam_created":1526019178335,"examUploads":[{"total":0,"detail":0,"struct":0,"c_xk_name":"语文","c_xk_id":1},{"total":0,"detail":0,"struct":0,"c_xk_name":"数学","c_xk_id":2},{"total":0,"detail":0,"struct":0,"c_xk_name":"英语","c_xk_id":3},{"total":0,"detail":0,"struct":0,"c_xk_name":"物理","c_xk_id":4},{"total":0,"detail":0,"struct":0,"c_xk_name":"化学","c_xk_id":5},{"total":0,"detail":0,"struct":0,"c_xk_name":"历史","c_xk_id":6}],"examWl":0},{"c_exam_score_type":null,"c_exam_date":1513785600000,"c_seme_id":1,"c_exam_name":"通用测试单元测试_20171221","papers":[{"createTime":1516072449523,"isItemUpload":1,"paperId":1001516072449522,"paperName":"通用测试单元测试_20171221","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":2,"termId":1,"xkName":"数学","createUser":"sichuan","paperScore":150.0,"_id":"1001516072449522","term":"上学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null}],"anlyStatus":1,"canClassAnalysis":true,"paperIds":[1001516072449522],"gradeName":"九年级","c_exam_cate_id":1,"c_grade_id":9,"examId":"2001516072449522","canGradeAnalysis":true,"c_exam_created":1516072449522,"examUploads":[{"total":1,"detail":1,"struct":1,"c_xk_name":"数学","c_xk_id":2}],"examWl":5},{"c_exam_score_type":null,"c_exam_date":1511107200000,"c_seme_id":1,"c_exam_name":"ceshi单元测试_20171120","papers":[{"createTime":1511158492411,"isItemUpload":1,"paperId":1001511158492410,"paperName":"ce15_09_单元测试_数学_20171120","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":2,"termId":1,"xkName":"数学","createUser":"sichuan","paperScore":150.0,"_id":"1001511158492410","term":"上学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null}],"anlyStatus":1,"canClassAnalysis":true,"paperIds":[1001511158492410],"gradeName":"九年级","c_exam_cate_id":1,"c_grade_id":9,"examId":"2001511158492410","canGradeAnalysis":true,"c_exam_created":1511158492410,"examUploads":[{"total":1,"detail":1,"struct":1,"c_xk_name":"数学","c_xk_id":2}],"examWl":3},{"c_exam_score_type":null,"c_exam_date":1511107200000,"c_seme_id":1,"c_exam_name":"能力点_数学考试单元测试_20171120","papers":[{"createTime":1511155231001,"isItemUpload":1,"paperId":1001511155231000,"paperName":"能力点_数学考试单元测试_20171120","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":2,"termId":1,"xkName":"数学","createUser":"sichuan","paperScore":150.0,"_id":"1001511155231000","term":"上学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null}],"anlyStatus":0,"canClassAnalysis":true,"paperIds":[1001511155231000],"gradeName":"九年级","c_exam_cate_id":1,"c_grade_id":9,"examId":"2001511155231000","canGradeAnalysis":true,"c_exam_created":1511155231000,"examUploads":[{"total":0,"detail":0,"struct":1,"c_xk_name":"数学","c_xk_id":2}],"examWl":6},{"c_exam_score_type":null,"c_exam_date":1511107200000,"c_seme_id":1,"c_exam_name":"能力点数学单元测试_20171120","papers":[{"createTime":1511147979539,"isItemUpload":1,"paperId":1001511147979538,"paperName":"能力点数学单元测试_20171120","paperEScore":0.0,"levelId":1,"examTypeName":"单元测试","xkId":2,"termId":1,"xkName":"数学","createUser":"sichuan","paperScore":150.0,"_id":"1001511147979538","term":"上学期","examGradeId":9,"levelName":"容易","examType":1,"examGradeName":"九年级","forSearch":null}],"anlyStatus":0,"canClassAnalysis":true,"paperIds":[1001511147979538],"gradeName":"九年级","c_exam_cate_id":1,"c_grade_id":9,"examId":"2001511147979538","canGradeAnalysis":true,"c_exam_created":1511147979538,"examUploads":[{"total":0,"detail":0,"struct":1,"c_xk_name":"数学","c_xk_id":2}],"examWl":7}], "success": true},
    _tempSchsArr: [],
    init:function(){
        SCHOOL.renderExam(SCHOOL.dataJson);
        SCHOOL.selectExamTypeAnalysis(0);
        SCHOOL.selectGradeTypeAnalysis(0);
    },
    requestExam:function(id) {
        Tomd.wait('加载中...');
        $.ajax({
            url: '/path/to/file',
            type: 'POST',
            dataType: 'json',
            data: {param1: 'value1'},
            success:function(data){
                Tomd.waitok();
                // 重新加载
                SCHOOL.setSchsArr(res);
                SCHOOL.renderExam(res);
            },
            error:function(data){
                if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '数据加载失败，请稍候再试！', '确定');
                } else if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '网络不给力，请稍候再试！', '确定');
                }
            }
        });
    },
    // 导入总分数据
    uploadDataOk:function(id) {
        Tomd.wait('加载中...');
        $.ajax({
            url: '/path/to/file',
            type: 'POST',
            dataType: 'json',
            data: { param1: 'value1' },
            success: function(data) {
                Tomd.waitok();
                Tomd.alert('', '导入成功！', '确定');
            },
            error: function(data) {
                if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '导入失败，请稍候再试！', '确定');
                } else if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '网络不给力，请稍候再试！', '确定');
                }
            }
        });
    },
    // 导入详分数据
    onClickSchsDetailsOk:function(id){
        Tomd.wait('加载中...');
        $.ajax({
            url: '/path/to/file',
            type: 'POST',
            dataType: 'json',
            data: { param1: 'value1' },
            success: function(data) {
                Tomd.waitok();
                Tomd.alert('', '导入成功！', '确定');
            },
            error: function(data) {
                if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '导入失败，请稍候再试！', '确定');
                } else if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '网络不给力，请稍候再试！', '确定');
                }
            }
        });
    },

    // 导入选择题数据
    onClickSchsSelectOk:function(id){
        Tomd.wait('加载中...');
        $.ajax({
            url: '/path/to/file',
            type: 'POST',
            dataType: 'json',
            data: { param1: 'value1' },
            success: function(data) {
                Tomd.waitok();
                Tomd.alert('', '导入成功！', '确定');
            },
            error: function(data) {
                if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '导入失败，请稍候再试！', '确定');
                } else if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '网络不给力，请稍候再试！', '确定');
                }
            }
        });
    },
    // 清理本校考试
    onClickSchsClearOk: function(id) {
        Tomd.wait('加载中...');
        $.ajax({
            url: '/path/to/file',
            type: 'POST',
            dataType: 'json',
            data: { param1: 'value1' },
            success: function(data) {
                Tomd.waitok();
                Tomd.alert('', '清空成功！', '确定');
            },
            error: function(data) {
                if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '清空失败，请稍候再试！', '确定');
                } else if (data) {
                    Tomd.waitok();
                    Tomd.alert('', '网络不给力，请稍候再试！', '确定');
                }
            }
        });
    },
    // 选择考试类型进行分析
    selectExamTypeAnalysis:function(){
        $('#examType li').click(function(){
            $(this).addClass('active').siblings().removeClass('active');
            var id = $(this).attr('data-id');
            SCHOOL.requestExam(id);
        });
    }
    // 选择年级类型进行分析
    ,selectGradeTypeAnalysis:function(){
        $('#gradeType li').click(function(){
            $(this).addClass('active').siblings().removeClass('active');
            var id = $(this).attr('data-id');
            SCHOOL.requestExam(id);
        });
    },
    renderExam:function(res) {
        console.log(res);
        SCHOOL.setSchsArr(res.data);
        template.defaults.imports.dateFormat = function(date, format) {
            if (typeof date === "string") {
                var mts = date.match(/(\/Date\((\d+)\)\/)/);
                if (mts && mts.length >= 3) {
                    date = parseInt(mts[2]);
                }
            }
            date = new Date(date);
            if (!date || date.toUTCString() == "Invalid Date") {
                return "";
            }

            var map = {
                "M": date.getMonth() + 1, //月份 
                "d": date.getDate(), //日 
                "h": date.getHours(), //小时 
                "m": date.getMinutes(), //分 
                "s": date.getSeconds(), //秒 
                "q": Math.floor((date.getMonth() + 3) / 3), //季度 
                "S": date.getMilliseconds() //毫秒 
            };


            format = format.replace(/([yMdhmsqS])+/g, function(all, t) {
                var v = map[t];
                if (v !== undefined) {
                    if (all.length > 1) {
                        v = '0' + v;
                        v = v.substr(v.length - 2);
                    }
                    return v;
                } else if (t === 'y') {
                    return (date.getFullYear() + '').substr(4 - all.length);
                }
                return all;
            });
            return format;
        };
        // 渲染模板
        document.getElementById("alyExams").innerHTML = template('alyExamsListTemplate', res);
    },
    // 导入总分数据
    onClickSchsScore:function(_this) {
        let id = _this.parentNode.getAttribute('data-id');
        let name = _this.parentNode.getAttribute('data-grade-nane');

        Tomd.alert('导入' + name + '-总分数据', '<div id="importDataHtml"></div>', '取消');
        $('.T-modal').off('click');
        $('.T-dialog').addClass('T-dialog-lg');
        $('.T-foot').prepend(`<a onclick="SCHOOL.onClickSchsScoreOk(${id})">确定</a>`);
        // 渲染模板
        SCHOOL.initSchsSelect(id);
    },
    onClickSchsScoreOk:function(id){
        var subjectId = $('#subject').val();
        //获取文件  
        var file = $("#input-file-max-fs").val();  

        console.log(subjectId)
        console.log(file);
        // SCHOOL.uploadDataOk();
    }
    // 导入详分数据
    ,onClickSchsDetails:function(_this) {
        let id = _this.parentNode.getAttribute('data-id');
        let name = _this.parentNode.getAttribute('data-grade-nane');
        Tomd.alert('导入' + name + '-详分数据', '<div id="importDataHtml"></div>', '取消');
        $('.T-modal').off('click');
        $('.T-dialog').addClass('T-dialog-lg');
        $('.T-foot').prepend(`<a onclick="SCHOOL.onClickSchsDetailsOk(${id})">确定</a>`);
        // 渲染模板
        SCHOOL.initSchsSelect(id);
    },
    
    // 导入选择题数据
    onClickSchsSelect:function(_this) {
        let id = _this.parentNode.getAttribute('data-id');
        let name = _this.parentNode.getAttribute('data-grade-nane');

        Tomd.alert('导入' + name + '-选择题数据', '<div id="importDataHtml"></div>', '取消');
        $('.T-modal').off('click');
        $('.T-dialog').addClass('T-dialog-lg');
        $('.T-foot').prepend(`<a onclick="SCHOOL.onClickSchsSelectOk(${id})">确定</a>`);
        // 渲染模板
        SCHOOL.initSchsSelect(id);
        
    },
    // 考试分析
    onClickSchsAnalysis:function(_this){
        var isChecked = true;
        let id = _this.parentNode.getAttribute('data-id');

        Tomd.alert('考试分析', '<div id="orgsAnalysisHtml"></div>', '取消');
        $('.T-foot').prepend(`<a onclick="SCHOOL.onClickSchsSelectOk(${id})">确定</a>`);
        $('.T-dialog').addClass('T-dialog-lg');
        $('.T-modal').off('click');
        // 渲染模板
        SCHOOL.initSchsSelect(id, isChecked);
    },
    // 清理本校考试
    onClickSchsClear: function(_this) {
        let id = _this.parentNode.getAttribute('data-id');
        let name = _this.parentNode.getAttribute('data-grade-nane');
        Tomd.alert('', '你确定要清理本校考试数据吗？', '取消');
        $('.T-modal').off('click');
        $('.T-foot').prepend(`<a onclick="SCHOOL.onClickSchsClearOk(${id})">确定</a>`);
    },
    setSchsArr:function(res){
        this._tempSchsArr = res;
    },
    getSchsArr:function(){
        return this._tempSchsArr;
    },
    // 导入
    initSchsSelect:function(srtId, isChecked){
        let id = parseInt(srtId);
        let schsArr = SCHOOL.getSchsArr();
        let subjectObj = {},subjectArr = [];
        for (let i = 0; i < schsArr.length; i++) {
            if (id == schsArr[i].examId) {
                subjectArr = schsArr[i].examUploads;
            }
        };
        subjectObj.examUploads = subjectArr;
        if (isChecked) {
            document.getElementById('orgsAnalysisHtml').innerHTML = template('orgsAnalysisTemplate', subjectObj);
            console.log('分析')
        }else {
            document.getElementById('importDataHtml').innerHTML = template('importDataTemplaet',subjectObj);
            SCHOOL.initDropify();
        }
    },
    //初始化上传
    initDropify: function() {
        $('.dropify').dropify({
            messages: {
                'default': '点击或拖拽文件到这里',
                'replace': '点击或拖拽文件到这里来替换文件',
                'remove': '移除文件',
                'error': '对不起，你上传的文件太大了'
            }
        });
    },
    //设置内容弹出窗口
	configOpen: function(srtid){
        var self = this;
		this.confingData(function(res){
            var html = template('config_template',res);
			Men.new_window('设置信息', html, '取消', SCHOOL.editor_btn);
			$('.center_button_div').prepend('<button class="default_btn edit_row_btn" onclick="Men.alert_ok()">保存</button>');
            self.toggle_children_ul();
            self.tip_open();
		});
	},
    //弹出窗口保存按钮
    editor_btn: function(){
         var data = {qkdy:{betweenScore:{}},tsxs:{}};
        if($("#noscore_checkbox").is(":checked"))
           data.qkdy.noScore = true;
        else
            data.qkdy.noScore = false;
        if($("#zeroScore_checkbox").is(":checked"))
           data.qkdy.zeroScore = true;
        else
            data.qkdy.zeroScore = false;
        if($("#betweenscore_checkbox").is(":checked")){
            data.qkdy.betweenScore.score = true;
            data.qkdy.betweenScore.between = "["+$("#between1_input").val()+","+$("#between2_input").val()+"]";
        }else{
	        	data.qkdy.betweenScore.score = false;
	        	data.qkdy.betweenScore.between = "[0,0]";
	   };
        var radios = $(".config_children_ul input[type='radio']");
        $.each(radios, function(index,value){
            if($(this).is(":checked")){
                data.qkcl = index +1;
                return;
            }
        });
        data.zbcl = $("#zbcl_select").val();
        if($("#selfstu_input").is(":checked"))
            data.tsxs.selfstu = true;
        else
            data.tsxs.selfstu = false;
        if($("#selestu_input").is(":checked"))
            data.tsxs.selestu = true;
        else
            data.tsxs.selestu = false;
        var students = $("#cheatingStudents_input").val();
        if(students.indexOf('，')!=-1)
            var array = students.split('，');
        else if(students.indexOf(',')!=-1)
            var array = students.split(',');
        data.cheatingStudents = array;
          alert(JSON.stringify(data)) 
        Men.close_window();
    },
	//设置的后台数据
	confingData: function(callback){
		var data = {};
        //单科缺考定义 noScore 无分数, zeroScore 得分为0分, betweenScore.score 得分...之间选中， betweenScore.between 下限上限值
        data.qkdy = {"noScore":true,"zeroScore":true,"betweenScore":{"score":true,between:[1,10]}};
        //单科缺考处理 1 单科分析，总分不分析, 2 单科分析，总分分析, 3 单科总分都不分析
        data.qkcl = 2;
        //单科作弊处理 1 总分计入分析, 2 总分不计入分析
        data.zbcl = 2;
        //特殊学生定义 tsxs.selfstu 自招生，tsxs.selestu 选课生
        data.tsxs = {selfstu:true,selestu:false};
        //作弊学生名单
        data.cheatingStudents = ['王邻','张爆江','李立'];
		// if(data.code == 0)
		callback(data);
	},
    //点击折叠/展开子项目
    toggle_children_ul: function(){
        $(".config_parent_ul .flex_between").on("click", function(){
            $(this).next(".config_children_ul").fadeToggle();
        });
    },
    //科目后台数据
	    subject_data: function(examTitle,callback){ //examTitle 考试标题，schoolName 当前学校名，grade 当前年级，classNum 班级数， subjectList 科目类型
	    	let res={code:0,data:{examTitle:examTitle,
                                  schoolName:'七中育才汇源校区(280001)',
                                  grade:'七年级',
                                  classNum:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],
                                  subjectList:[    // name 科目名，examName 试卷名称，id 试卷ID， totalScore 总分
	    	                                                       {name:"语文",examName:"新格林公学-19-07-月考-语文-20191014",id:"10019827",totalScore:150},
	    	                                                       {name:"数学",examName:"新格林公学-19-07-月考-数学-20191014",id:"10019821",totalScore:141},
	    	                                                       {name:"英语",examName:"新格林公学-19-07-月考-英语-20191014",id:"10019835",totalScore:130}
	    	                                                       	]}};
	    	if(res.code == 0)
	    		callback(res.data);
	    },
	    //结构按钮方法
	    onClickStructure: function(_this,examTitle){
            var self=this;
	    	let id = _this.parentNode.getAttribute('data-id');  //id号
			let name = _this.parentNode.getAttribute('data-grade-nane');  //年级名
			this.subject_data(examTitle,function(res){
				var html = template('structure_template',res);
				Men.new_window('试卷结构编辑', html, '关闭');
				$('.center_button_div').prepend('<button class="default_btn edit_row_btn" onclick="SCHOOL.onClickStructureOK()">保存试卷结构</button>');
				$('.center_button_div').prepend('<button class="default_btn edit_row_btn" onclick="SCHOOL.onImportDataOK()">导入数据</button>');
                $(".center_popup").addClass("wid85");
                self.create_structure_score();
                self.radio_check();
                self.check_class();
			});			
	    },
	    //保存试卷结构
	    onClickStructureOK: function(){
            alert("保存试卷结构");
            Men.close_window();
        },
        //导入数据
        onImportDataOK: function(){
            alert("导入数据");
            Men.close_window();
        },
        //设置试卷名称、ID、总分、班级
        create_structure_score: function(){
            $("#structureul li").on("click", function(){
                $(this).addClass("hover").siblings().removeClass("hover");
                $("#examname").html($(this).data("examname"));
                $("#examid").html($(this).data("id"));
                $("#examtotalscore").html($(this).data("totalscore"));
            });
            $("#structureul li").eq(0).click();
        },
        //用一组radio切换显示网阅同步/手动上传内容
        radio_check: function(){
            $("#radio_check1").on("click", function(){
                $("#radio_show1").show();
                $("#radio_show2").hide();
            });
            $("#radio_check2").on("click", function(){
                $("#radio_show2").show();
                $("#radio_show1").hide();
            });
        },
        //选择班级和全选
        check_class: function(){
            $("#allclass_check").on("change", function(){
                if($(this).is(":checked"))
                    $("#class_num input[type='checkbox']").prop("checked",true);
                else
                    $("#class_num input[type='checkbox']").prop("checked",false);
            });
            $("#select_class").on("change",function(){
                var val = $(this).val();
                var content = $("#class_num input[type='checkbox']");
                $.each(content, function(index,value){
                    if($(this).val()==val)
                        {$(this).prop("checked",true);
                        return;}
                });
            });
        },
        //获取考试结构
        gain_structure: function(){
            alert("获取考试结构");
            console.info("获取考试结构");
        },
        //结构导入
        structure_import: function(){
            var html = `<div class="col-12"><input type="file" name="file" class="dropify-fr" data-default-file="" /></div>`;
            Men.new_confirm('结构导入',html,'导入',function(){ //导入按钮
                alert('已导入数据！');
            });            
            //初始化上传控件
            Men.dropify();
            $(".dropify-wrapper .dropify-message").css("min-width","auto");
        },
        //结构导出
        structure_export: function(){alert("导出");},
        //结构清空
        structure_clear: function(){
            $("#structure_tbody").empty();
        },
        //手动导入
        manual_import: function(){
            var html = `<div class="col-12"><input type="file" name="file" class="dropify-fr" data-default-file="" /></div>`;
            Men.new_confirm('手动导入',html,'导入',function(){ //导入按钮
                alert('已导入数据！');
            });            
            //初始化上传控件
            Men.dropify();
            $(".dropify-wrapper .dropify-message").css("min-width","auto");
        },
        //手动导出
        manual_export: function(){alert("导出");},
        //手动清空
        manual_clear: function(){
            $("#manual_tbody").empty();
        },
        //作弊提示
        tip_open: function(){
            $("#tips").on("mouseover", function(){
                $(this).find(".tip_table_div").show();
            });
            $("#tips").on("mouseout", function(){
                $(this).find(".tip_table_div").delay(10000).hide(0);
            });
        },
}
SCHOOL.init();